@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Utilities for "The Absolutist" */
@layer utilities {
  .pt-safe-top {
    padding-top: env(safe-area-inset-top);
  }
  .pb-safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* --- Animation Primitives --- */
  
  .animate-in {
    animation-name: enter;
    animation-duration: 150ms;
    animation-fill-mode: backwards; 
    --tw-enter-opacity: initial;
    --tw-enter-scale: initial;
    --tw-enter-rotate: initial;
    --tw-enter-translate-x: initial;
    --tw-enter-translate-y: initial;
  }

  .fade-in {
    --tw-enter-opacity: 0;
  }

  .zoom-in-90 {
    --tw-enter-scale: 0.9;
  }
  
  .zoom-in-50 {
    --tw-enter-scale: 0.5;
  }

  .slide-in-from-bottom-4 {
    --tw-enter-translate-y: 1rem;
  }
  
  .slide-in-from-bottom-8 {
    --tw-enter-translate-y: 2rem;
  }
  
  .slide-in-from-bottom-full {
    --tw-enter-translate-y: 100%;
  }

  .slide-in-from-left {
    --tw-enter-translate-x: -100%;
  }

  .duration-300 { animation-duration: 300ms; }
  .duration-500 { animation-duration: 500ms; }
  .duration-700 { animation-duration: 700ms; }
  .duration-1000 { animation-duration: 1000ms; }
  
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-500 { animation-delay: 500ms; }
  .delay-700 { animation-delay: 700ms; }
  
  .ease-out-expo { transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1); }

  @keyframes enter {
    from {
      opacity: var(--tw-enter-opacity, 1);
      transform: translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), 1) rotate(var(--tw-enter-rotate, 0));
    }
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
  
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Modern Spring Pop-In */
  @keyframes popSpring {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0); }
    50% { opacity: 1; transform: translate(-50%, -50%) scale(1.35); }
    100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
  }

  .animate-pop-spring {
    animation: popSpring 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* Ring Pulse / Echo Effect - Subtle & Polished */
  @keyframes ringPulse {
    0% { transform: scale(1); opacity: 0; }
    20% { opacity: 0.4; }
    100% { transform: scale(1.4); opacity: 0; }
  }

  .animate-ring-pulse {
    animation: ringPulse 2.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  /* --- Schematic Link Animations (Concept 1) --- */
  @keyframes drawSchematic {
    0% { stroke-dashoffset: 400; }
    100% { stroke-dashoffset: 0; }
  }

  .animate-schematic-link {
    animation: drawSchematic 600ms cubic-bezier(0.16, 1, 0.3, 1) 150ms forwards;
  }
}

/* Global Reset */
body {
  background-color: #F5F2EB;
  color: #121212;
  font-feature-settings: "cv11", "ss01";
  -webkit-font-smoothing: antialiased;
}